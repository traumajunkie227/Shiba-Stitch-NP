{% comment %} Shiba Stitch â€“ Footer Links Column block {% endcomment %}

{% style %}
.footer-links-column {display:inline-block;}
.footer-links-column .footer-heading {margin:0 0 .5em;font-weight:700;}
.footer-links-column ul {list-style:none;margin:0;padding:0;}
.footer-links-column li+li {margin-top:.25em;}
{% endstyle %}

<div class="footer-column footer-links-column"
     style="flex-basis: {{ block.settings.column_width }}%;">
  {% if block.settings.heading != blank %}
    <h3 class="footer-heading">{{ block.settings.heading }}</h3>
  {% endif %}

  <ul>
    {% for i in (1..6) %}
      {% assign pg = 'link' | append: i | append: '_page' %}
      {% assign lb = 'link' | append: i | append: '_label' %}
      {% assign page_obj = block.settings[pg] %}
      {% if page_obj %}
        <li>
          <a href="{{ page_obj.url }}">
            {{ block.settings[lb] | default: page_obj.title }}
          </a>
        </li>
      {% endif %}
    {% endfor %}
  </ul>
</div>

{% schema %}
{
  "name": "Footer Links Column",
  "settings": [
    {
      "type": "text",
      "id": "heading",
      "label": "Heading",
      "default": "Help"
    },
    {
      "type": "range",
      "id": "column_width",
      "label": "Column width (%)",
      "min": 10,
      "max": 100,
      "step": 1,
      "default": 25,
      "unit": "%"
    },

    { "type": "page", "id": "link1_page", "label": "Link 1 page" },
    { "type": "text", "id": "link1_label", "label": "Link 1 label" },

    { "type": "page", "id": "link2_page", "label": "Link 2 page" },
    { "type": "text", "id": "link2_label", "label": "Link 2 label" },

    { "type": "page", "id": "link3_page", "label": "Link 3 page" },
    { "type": "text", "id": "link3_label", "label": "Link 3 label" },

    { "type": "page", "id": "link4_page", "label": "Link 4 page" },
    { "type": "text", "id": "link4_label", "label": "Link 4 label" },

    { "type": "page", "id": "link5_page", "label": "Link 5 page" },
    { "type": "text", "id": "link5_label", "label": "Link 5 label" },

    { "type": "page", "id": "link6_page", "label": "Link 6 page" },
    { "type": "text", "id": "link6_label", "label": "Link 6 label" }
  ]
}
{% endschema %}
